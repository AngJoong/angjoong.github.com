# 1장

## 1.1 HTTP: 인터넷의 멀티미디어 배달부

* HTTP는 전 세계의 웹 서버로부터 이 대량의 정보를 빠르고, 간편하고, 정확하게 사람들의 PC에 설치된 웹브라우저로 옮긴다.
* HTTP는 신뢰성 있는 데이터 전송 프로토콜을 사용하기 때문에, 전송 중 손상되거나 꼬이지 않음을 보장한다.

## 1.2 웹 클라이언트와 서버

* 웹 서버는 HTTP 프로토콜로 의사소통하기 때문에 보통 HTTP 서버라고 불린다.
* 웹 서버는 인터넷의 데이터를 저장하고, HTTP 클라이언트가 요청한 데이터를 제공한다.
* 클라이언트는 서버에게 HTTP 요청을 보내고 서버는 요청된 데이터를 HTTP 응답으로 돌려준다.
* 가장 흔한 클라이언트는 IE, Chrome과 같은 웹브라우저다.

## 1.3 리소스 

* 가장 단순한 웹 리소스는 웹 서버 파일 시스템의 정적 파일이다.
* 요청에 따라 콘텐츠를 생산하는 프로그램이 될 수도 있다. 이러한 동적 콘텐츠는 사용자의 정보에 따라 다른 리소스를 보여준다.


### 1.3.1 미디어 타입

* HTTP는 웹에서 전송되는 객체 각각에 MIME 타입이라는 데이터 포멧 라벨을 붙인다.
* 웹브라우저는 서버로부터 객체를 돌려받을 때, 다룰 수 있는 객체인지 MIME 타입을 통해 확인한다.
* MIME 타입은 사선(/)으로 구분된 주 타입(primary object type)과 부 타입(specific subtype)으로 이루어진 문자열이다. (ex. text/html, image/jpeg)

### 1.3.2 URI

* 통합 자원 식별자 (uniform resource identifier)
* URI는 인터넷의 우편물 주소 같은 것으로, 정보 리소스를 고유하게 식별하고 위치를 지정할 수 있다.

### 1.3.3 URL

* 통합 자원 지시자 (uniform resource locator)
* URL은 특정 서버의 한 리소스에 대한 구체적인 위치를 서술한다.
* URL은 리소스가 정확히 어디에 있고 어떻게 접근할 수 있는지 분명하게 알려준다.
* 오늘날의 URI는 대부분 URL 이다.

### 1.3.4 URN

* 콘텐츠를 이루는 한 리소스에 대해, 그 리소스의 위치에 영향 받지 않는 유일무이한 이름
* 위치 독립적인 URN은 리소스를 여기저기로 옮기더라도 문제없이 동작한다.
* 여러 종류의 네트워크 접속 프로토콜로 접근해도 문제없다.
* 리소스 위치를 분석하기 위한 인프라 지원이 필요한데, 그러한 인프라가 부재하기에 URN 채택은 더 늦춰지고 있다.

## 1.4 트랜잭션

* 트랜잭션은 요청 명령(클라이언트 -> 서버)과 응답 결과(서버 -> 클라이언트)로 구성된다.
* 이러한 상호 작용은 HTTP 메시지라고 불리는 정형화된 데이터 덩어리를 이용해 이루어진다.

### 1.4.1 메서드

* HTTP는 HTTP 메서드라고 불리는 여러 가지 종류의 요청 명령을 지원한다.
* 메서드는 서버에게 어떤 동작이 취해져야 하는지 말해준다. (ex. 조회, 삭제 등)

### 1.4.2 상태 코드

* 클라이언트에게 요청이 성공했는지 아니면 추가 조치가 필요한지 알려주는 세 자리 숫자다.
* 상태코드는 텍스트로 된 "사유 구절(reason phrase)"도 함께 보낸다.

### 1.4.3 웹페이지는 여러 객체로 이루어질 수 있다.

* '웹페이지'는 보통 하나의 리소스가 아닌 리소스의 모음이다.
* 애플리케이션은 보통 하나의 작업을 수행하기 위해 여러 HTTP 트랜잭션을 수행한다.
* HTML을 한번의 트랜잭션으로 가져온 뒤, 이미지, 자바 애플릿 등을 가져오기 위해 추가로 HTTP 트랜잭션들을 수행한다.

## 1.5 메시지

* 단순한 줄 단위의 문자열이다.
* 일반 텍스트이기 때문에 읽고 쓰기 쉽다.
* 요청 메시지와 응답 메시지로 나뉜다.

### 1.5.1 메시지 구조

1. 시작줄: 무엇을 해야하는지, 무엇이 일어났는지 나타낸다.
2. 헤더: 시작줄 다음에 0개 이상의 헤더 필드가 이어진다. 키:값 으로 구성된다. 빈 줄로 헤더를 끝낸다.
3. 본문: 헤더의 빈줄 다음에 어떤 종류의 데이터든 들어올 수 있다.

### 1.5.2 간단한 메시지의 예

|구분|요청 메시지|응답 메시지|
|:---:|:---:|:---:|
|시작줄|GET /test/hi-there.txt HTTP|HTTP/1.0 200 OK|
|헤더|Accept: text/*<br>Accept-Language: en, fr<br>|Content-type: text/plain<br>Content-length: 19<br>|
|본문| |Hi! I`m a message!|

## 1.6 TCP 커넥션

### 1.6.1 TCP/IP

HTTP는 애플리케이션 계층 프로토콜이다. 통신의 핵심적인 세부사항은 TCP/IP에 맡긴다.

#### TCP

* 오류 없는 데이터 전송
* 순서에 맞는 전달 (보낸 순서대로 데이터 도착)
* 조각나지 않는 데이터 스트림 (크기 제약 없음)

### 1.6.2 접속, IP 주소 그리고 포트 번호

* 서버에 메시지를 전송할 수 있게 되기 전에, 인터넷 프로토콜 주소와 포트번호를 사용해 클라이언트와 서버 사이에 TCP/IP 커넥션을 맺어야 한다.
* 흔히 사용하는 URL은 DNS를 통해 IP로 변환한다.

## 1.7 프로토콜 버전

* HTTP/0.9
* HTTP/1.0
* HTTP/1.1
* HTTP/2.0

## 1.8 웹의 구성요소

* 프락시
* 캐시
* 게이트웨이
* 터널
* 에이전트
